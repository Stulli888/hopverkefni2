{"version":3,"file":"bundle.js","sources":["../src/index.js"],"sourcesContent":["import {formatDate} from 'date.js';\n\nconst program = (() => {\n  //const videoList;\n\n  // fall sem birtir skilaboð meðan efni er sótt\n  function showLoading() {\n\n  }\n\n  // fall sem býr til element\n  function el(type, className, eventHandler) {\n    const element = document.createElement(type);\n\n    if (className) {\n      element.classList.add(className);\n    }\n\n    if (eventHandler) {\n      element.addEventListener('click', eventHandler);\n    }\n\n    return element;\n  }\n\n\n  // fall sem færir gögn yfir i html hluti\n  function showCategories(data) {\n    showLoading();\n    const category = videoList.getElementsByClassName('.category');\n\n    // Ítrar samtímis yfir li element með 'category' klasa\n    // og \"categories\" í videos.json til að sækja gögn\n    for (const i in data.categories) {\n\n      const thisCategory = data.categories[i];\n      category[i].querySelector('.categoryNameRow').textContent = thisCategory.title;\n      const videoBox = category[i].getElementsByClassName('.categoryVideoBox');\n\n      // Ítrar yfir \"videos\" fylki innan \"categories\" í json\n      // sækir þaðan gögn fyrir video hluti\n      for (const j in thisCategory.videos) {\n\n        const vid = videoBox[j].querySelector('.categoryVideo');\n        const vidTitle = videoBox[j].querySelector('.categoryVideoTitle');\n        const videoTime = videoBox[j].querySelector('.categoryVideoDate');\n\n        // Sækir id númer j úr videos fylkinu\n        const imgId = thisCategory.videos[j];\n        const videoData = data.videos[imgId];\n\n        // Sækir viðeigandi background og breytir <a> elementi\n        // undir video elementinu til að vísa á rétt id. (þarf þetta??)\n        vid.backgroundImage = `${videoData.poster}`;\n        const link = vid.getElementsByTagName('a');\n        const s = link[0].getAttribute('href');\n        link.setAttribute('href', `${s}?id=${imgId}`);\n        vidTitle.textContent = videoData.title;\n\n        // Sendir gildi \"created\" þ.e. aldur video í formatDate fall\n        // til að fá dagsetningu í rétt form\n        videoTime.textContent = formatDate(videoData.created);\n\n      }\n\n    }\n  }\n\n\n  // event handler fyrir það að smella á video og fara yfir í video hluta\n  function play(e) {\n    e.getElementsByTagName('a').click();\n\n    //TODO þarf að setja upp\n  }\n\n\n  function init(_videos) {\n    const videoList = _videos;\n    //videoList = _videos;\n    const categoryVideo = videoList.getElementsByClassName('.categoryVideo');\n\n    fetch(\"./videos.json\")\n      .then((result) => {\n        if (!result.ok) {\n          throw new Error('Non 200 status');\n        }\n        return result.json();\n      })\n      .then((data) => {\n        showCategories(data);\n      })\n  }\n\n  // Setja EventListener á öll video\n  for (const i of categoryVideo) {\n    categoryVideo[i].addEventListener('click', play);\n  }\n\n  return {\n    init,\n  };\n})();\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  program.init(document.querySelector('.videos'));\n});\n"],"names":["program","showCategories","data","category","videoList","getElementsByClassName","i","categories","thisCategory","querySelector","textContent","title","videoBox","j","videos","vid","vidTitle","videoTime","imgId","videoData","backgroundImage","poster","link","getElementsByTagName","s","getAttribute","setAttribute","formatDate","created","play","e","click","init","_videos","categoryVideo","fetch","then","result","ok","Error","json","addEventListener","document"],"mappings":"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"}